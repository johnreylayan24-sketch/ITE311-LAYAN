RewriteEngine On

# Block URLs with double slashes anywhere - FIRST RULE
RewriteCond %{REQUEST_URI} //
RewriteRule ^ - [F,L]

RewriteBase /ITE311-LAYAN/

# Block direct access to public URLs - return 403 Forbidden
RewriteCond %{REQUEST_URI} ^/ITE311-LAYAN/public/ [NC]
RewriteRule ^ - [F,L]

# Route all non-public requests to public directory
RewriteCond %{REQUEST_URI} !^/ITE311-LAYAN/public/
RewriteRule ^(.*)$ public/$1 [L,QSA]

# Disable directory browsing
Options -Indexes
